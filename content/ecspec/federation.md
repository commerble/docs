---
title: "基幹システム(外部システム)との連携"
weight: 1
description: 
---

## 基幹システム(外部システム)との連携

ECと基幹システム間でどのような情報を連携するか記載します。
ECだと一般的に考慮すべき点は以下になります。

- 売上情報(受注情報)
- 顧客情報
- 商品情報
- 在庫情報

それぞれについて説明します。

## 受注情報(売上情報)

- ECで受けた受注情報は基幹システムに送信されます。
- 送信のタイミングは大きく、受注時、売上確定時などありますが、これはOMS(Order Management System 注文管理システム)がどこにあるかで変わります。
- ECの受注管理がOMSを兼ねる場合は、出荷して売上確定後に経理システムに対して、受注情報(売上情報)を送信する形になります。
- ECの受注管理がOMSを兼ねない場合(基幹システム側がOMSの場合)は、受注後に基幹システム側のOMSに対して、受注情報(売上情報)を連携し、以後OMS側で変更される「受注ステータス情報等」をEC側に連携する形になります。

### ECの受注管理がOMSを兼ねる場合

- 基幹側にOMSがない場合、ECの受注管理で受注情報が管理されます。
- 具体的には、注文ステータス(引当済み、出荷済み等)がEC側の受注管理で管理されます。
- この場合、出荷して売上が確定した注文情報を基幹システム側の経理システムに送信する形になります。
- 連携後に、キャンセルや返品によって注文ステータスが変わる場合は、経理システム側の情報とEC側の受注管理双方のデータを直す必要があります。

### ECの受注管理がOMSを兼ねない場合(基幹システム側がOMSの場合)

- ECの受注管理がOMSを兼ねない場合、注文情報は基幹システム側のOMSで管理されます。
- 具体的には、注文ステータス(引当済み、出荷済み等)がOMSで管理され、EC側にはその情報が連携される形になります。
- この場合、OMS側で明細を編集した場合、EC側にその情報を連携する必要があります。
- 注文明細の詳細(商品情報、個数、価格)までEC側に連携するか、しないかはシステムの連携しやすさで判断されます。
- 個数の変更や金額の書き換えをEC側に連携しようとすると、計算式そのものを連携する必要があり、システム連携の難易度があります。
- その為、OMS側ではキャンセルという形にして、再注文を顧客に要求するケースもあります。

## 顧客情報

- 顧客情報は、どこに存在するかによって連携方式、運用が変わってきます。
- EC側にのみ顧客情報が存在する場合は、非常にシンプルで一元管理された状態となります。
- EC側にECを利用した顧客情報があり、店舗の顧客情報が基幹システム側にあるというケースも多く存在します。
- その場合、EC側の顧客情報と基幹システム側の顧客情報と双方に連携することによって、WEBでも店舗でも同様に一人の会員として、もてなすことが可能になります。
- 具体化には、基幹システム側の情報をベースにオンラインやアプリで会員証を提供したり、ECでも実店舗でも同じポイントが利用できるなどの、いわゆるオムニチャネルの基礎を実現することが可能になります。
- ただし、双方向に情報が更新されると、どの情報が最新か等、管理が非常に複雑になってきますので、更新のタイムラグ等を考慮した設計が必要になります。

## 商品情報

- 商品情報は、基幹システム側で一元管理する方法と、ECはECで管理し、基幹システムは基幹システム側で管理するなどの分離した管理方法があります。
- 一般的には、基幹システム側で管理しているのは商品名やJANコード、売価等の最小限の項目である事が多いです。
- このため、ECで販売するのに必要な商品情報(カテゴリ、画像とキャプション、商品説明)を持っていることは少ないため、基幹システムとEC側で分離して管理するケースが大半かと思われます。

## 在庫情報

- 在庫情報は一般的にWMSや基幹システム等の外部システムで管理されます。
- 方式としては、ECから外部システムに在庫情報を取りにいくか、外部システムからECの在庫情報を更新するかになります。
- 昨今のWMSや基幹システムは、EC側のAPIを叩いて在庫を更新するような機能が一般的になってきています。
- 一方日時でWMSや基幹システム側の在庫一覧データをCSV等で取得し、EC側の在庫を更新するようなパターンも、長く続いているとう事もあります。
  