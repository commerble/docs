<!doctype html><html lang=ja><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="注文 #  カート注文(受注するまで)について #  カートで注文を確定するためにユーザーが行う作業(フロー)を記載する。 カートインのタイミングで料金の計算や配達日指定のルールなどが決めることもあり、行う処理は多い。
 ①会員情報があればログイン、なければ新規登録かゲスト購入の選択 ②商品と数量の確認 ③オプションの選択 ④支払い方法の選択 ⑤配送先や配送方法、配送日時の選択 ⑥送料の算出 ⑦キャンペーン(値引き、クーポン利用) ⑧ポイント利用 ⑨税額計算、合計計算 ⑩注文の確定  それぞれに多様な要件がある。
 ①会員(ログイン、新規登録、ゲスト購入） #   会員については以下を参照。  会員について 会員IDはどこで管理するか、自社ECか、それ以外のIdp(アイデンティティ・プロバイダ)か。 購入には会員登録が必須か、ゲスト購入も可能とするか。 ゲスト購入後に会員登録するような仕様を設けるかなどが検討事項として存在する。  ②商品と数量の確認 #   商品展開し、商品と数量の確認を行う。 販売可能数をチェックする。 付与キャンペーン(後述)を確認する 在庫チェックする 商品販売パターンをチェックする。 同じカートに同梱不可能な商品(同時購入不能な商品、例えば常温商品と冷凍商品、一般商品と予約商品)をチェックする。 税額を算出する。 小計を算出する。  ③オプションの選択 #  オプションについては様々な選択肢があるので、利用したケースを記載していく。
オプション(ギフト梱包) #   ギフト梱包はECでは一般的となっている。有料のもの無料のもの。 ギフト梱包はすべての商品で有効か、特定商品では使えないなどがある。 ギフト梱包はクリスマスや父の日など特定の日付近にのみ有効なものも存在する。  オプション(裾上げ) #   裾上げ(Nセンチメートル)  オプション(建材EC例) #   荷受け担当者、出荷証明書有無、搬入制限  ④支払い方法の選択 #  支払い方法については別ページを参照。"><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="注文"><meta property="og:description" content="注文 #  カート注文(受注するまで)について #  カートで注文を確定するためにユーザーが行う作業(フロー)を記載する。 カートインのタイミングで料金の計算や配達日指定のルールなどが決めることもあり、行う処理は多い。
 ①会員情報があればログイン、なければ新規登録かゲスト購入の選択 ②商品と数量の確認 ③オプションの選択 ④支払い方法の選択 ⑤配送先や配送方法、配送日時の選択 ⑥送料の算出 ⑦キャンペーン(値引き、クーポン利用) ⑧ポイント利用 ⑨税額計算、合計計算 ⑩注文の確定  それぞれに多様な要件がある。
 ①会員(ログイン、新規登録、ゲスト購入） #   会員については以下を参照。  会員について 会員IDはどこで管理するか、自社ECか、それ以外のIdp(アイデンティティ・プロバイダ)か。 購入には会員登録が必須か、ゲスト購入も可能とするか。 ゲスト購入後に会員登録するような仕様を設けるかなどが検討事項として存在する。  ②商品と数量の確認 #   商品展開し、商品と数量の確認を行う。 販売可能数をチェックする。 付与キャンペーン(後述)を確認する 在庫チェックする 商品販売パターンをチェックする。 同じカートに同梱不可能な商品(同時購入不能な商品、例えば常温商品と冷凍商品、一般商品と予約商品)をチェックする。 税額を算出する。 小計を算出する。  ③オプションの選択 #  オプションについては様々な選択肢があるので、利用したケースを記載していく。
オプション(ギフト梱包) #   ギフト梱包はECでは一般的となっている。有料のもの無料のもの。 ギフト梱包はすべての商品で有効か、特定商品では使えないなどがある。 ギフト梱包はクリスマスや父の日など特定の日付近にのみ有効なものも存在する。  オプション(裾上げ) #   裾上げ(Nセンチメートル)  オプション(建材EC例) #   荷受け担当者、出荷証明書有無、搬入制限  ④支払い方法の選択 #  支払い方法については別ページを参照。"><meta property="og:type" content="article"><meta property="og:url" content="/order/"><meta property="article:published_time" content="2020-08-07T00:00:00+00:00"><meta property="article:modified_time" content="2020-08-11T08:35:07+09:00"><title>注文 | ecspec sample</title><link rel=manifest href=../manifest.json><link rel=icon href=../favicon.png type=image/x-icon><link rel=stylesheet href=../book.min.6cd8553a6854f4812343f0f0c8baca31271e686434f381fbe3c7226f66639176.css integrity="sha256-bNhVOmhU9IEjQ/DwyLrKMSceaGQ084H748cib2ZjkXY="><script defer src=../ja.search.min.2b7a32b72abc1072255206052cb00f49d7451b431658cb8848879b41b7ecfecc.js integrity="sha256-K3oytyq8EHIlUgYFLLAPSddFG0MWWMuISIebQbfs/sw="></script><script defer src=../sw.min.74a8bb07f0bee86d6bb9a2750f073f14d93c7e4512f28860370cfd879e9719b4.js integrity="sha256-dKi7B/C+6G1ruaJ1Dwc/FNk8fkUS8ohgNwz9h56XGbQ="></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-XXXXXXXXX-X','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=../><span>ecspec sample</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=検索 aria-label=検索 maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=../ec/>EC</a></li><li><a href=../ecbusiness/>ECの多様な事業形態</a></li><li><a href=../systemload/>システム負荷対策</a></li><li><a href=../systemsecurity/>セキュリティ対策</a></li><li><a href=../promotion/>プロモーション</a></li><li><a href=../unauthorizeduse/>不正利用対策</a></li><li><a href=../wms/>倉庫(WMS)連携</a></li><li><a href=../orderstatus/>受注ステータス</a></li><li><a href=../product/>商品</a></li><li><a href=../stock/>在庫</a></li><li><a href=../federation/>基幹連携</a></li><li><a href=../payment/>支払方法</a></li><li><a href=../order/ class=active>注文</a></li><li><a href=../customer/>顧客</a></li></ul><ul><li><a href=https://github.com/commerble/docs target=_blank rel=noopener>Github</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=../svg/menu.svg class=book-icon alt=Menu></label>
<strong>注文</strong>
<label for=toc-control><img src=../svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#注文>注文</a><ul><li><a href=#カート注文受注するまでについて>カート注文(受注するまで)について</a></li><li><a href=#会員ログイン新規登録ゲスト購入>①会員(ログイン、新規登録、ゲスト購入）</a></li><li><a href=#商品と数量の確認>②商品と数量の確認</a></li><li><a href=#オプションの選択>③オプションの選択</a><ul><li><a href=#オプションギフト梱包>オプション(ギフト梱包)</a></li><li><a href=#オプション裾上げ>オプション(裾上げ)</a></li><li><a href=#オプション建材ec例>オプション(建材EC例)</a></li></ul></li><li><a href=#支払い方法の選択>④支払い方法の選択</a></li><li><a href=#配送先や配送方法配送日時の選択>⑤配送先や配送方法、配送日時の選択</a><ul><li><a href=#配送先>配送先</a></li><li><a href=#配送方法>配送方法</a></li><li><a href=#店舗受取>店舗受取</a></li></ul></li><li><a href=#送料の算出>⑥送料の算出</a></li><li><a href=#キャンペーン値引きクーポン利用ポイント利用>⑦キャンペーン(値引き、クーポン利用)、ポイント利用</a><ul><li><a href=#クーポン>クーポン</a></li></ul></li><li><a href=#ポイント利用>⑧ポイント利用</a><ul><li><a href=#ポイント付与>ポイント付与</a></li></ul></li><li><a href=#税額計算>⑨税額計算</a></li><li><a href=#注文の確定>⑩注文の確定</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=注文>注文
<a class=anchor href=#%e6%b3%a8%e6%96%87>#</a></h1><h2 id=カート注文受注するまでについて>カート注文(受注するまで)について
<a class=anchor href=#%e3%82%ab%e3%83%bc%e3%83%88%e6%b3%a8%e6%96%87%e5%8f%97%e6%b3%a8%e3%81%99%e3%82%8b%e3%81%be%e3%81%a7%e3%81%ab%e3%81%a4%e3%81%84%e3%81%a6>#</a></h2><p>カートで注文を確定するためにユーザーが行う作業(フロー)を記載する。
カートインのタイミングで料金の計算や配達日指定のルールなどが決めることもあり、行う処理は多い。</p><ul><li>①会員情報があればログイン、なければ新規登録かゲスト購入の選択</li><li>②商品と数量の確認</li><li>③オプションの選択</li><li>④支払い方法の選択</li><li>⑤配送先や配送方法、配送日時の選択</li><li>⑥送料の算出</li><li>⑦キャンペーン(値引き、クーポン利用)</li><li>⑧ポイント利用</li><li>⑨税額計算、合計計算</li><li>⑩注文の確定</li></ul><p>それぞれに多様な要件がある。</p><p><img src=../media/order.jpg alt=受注後のステータスフロー></p><h2 id=会員ログイン新規登録ゲスト購入>①会員(ログイン、新規登録、ゲスト購入）
<a class=anchor href=#%e4%bc%9a%e5%93%a1%e3%83%ad%e3%82%b0%e3%82%a4%e3%83%b3%e6%96%b0%e8%a6%8f%e7%99%bb%e9%8c%b2%e3%82%b2%e3%82%b9%e3%83%88%e8%b3%bc%e5%85%a5>#</a></h2><ul><li>会員については以下を参照。</li><li><a href=../customer/>会員について</a></li><li>会員IDはどこで管理するか、自社ECか、それ以外のIdp(アイデンティティ・プロバイダ)か。</li><li>購入には会員登録が必須か、ゲスト購入も可能とするか。</li><li>ゲスト購入後に会員登録するような仕様を設けるかなどが検討事項として存在する。</li></ul><h2 id=商品と数量の確認>②商品と数量の確認
<a class=anchor href=#%e5%95%86%e5%93%81%e3%81%a8%e6%95%b0%e9%87%8f%e3%81%ae%e7%a2%ba%e8%aa%8d>#</a></h2><ul><li>商品展開し、商品と数量の確認を行う。</li><li>販売可能数をチェックする。</li><li>付与キャンペーン(後述)を確認する</li><li>在庫チェックする</li><li>商品販売パターンをチェックする。</li><li>同じカートに同梱不可能な商品(同時購入不能な商品、例えば常温商品と冷凍商品、一般商品と予約商品)をチェックする。</li><li>税額を算出する。</li><li>小計を算出する。</li></ul><h2 id=オプションの選択>③オプションの選択
<a class=anchor href=#%e3%82%aa%e3%83%97%e3%82%b7%e3%83%a7%e3%83%b3%e3%81%ae%e9%81%b8%e6%8a%9e>#</a></h2><p>オプションについては様々な選択肢があるので、利用したケースを記載していく。</p><h3 id=オプションギフト梱包>オプション(ギフト梱包)
<a class=anchor href=#%e3%82%aa%e3%83%97%e3%82%b7%e3%83%a7%e3%83%b3%e3%82%ae%e3%83%95%e3%83%88%e6%a2%b1%e5%8c%85>#</a></h3><ul><li>ギフト梱包はECでは一般的となっている。有料のもの無料のもの。</li><li>ギフト梱包はすべての商品で有効か、特定商品では使えないなどがある。</li><li>ギフト梱包はクリスマスや父の日など特定の日付近にのみ有効なものも存在する。</li></ul><h3 id=オプション裾上げ>オプション(裾上げ)
<a class=anchor href=#%e3%82%aa%e3%83%97%e3%82%b7%e3%83%a7%e3%83%b3%e8%a3%be%e4%b8%8a%e3%81%92>#</a></h3><ul><li>裾上げ(Nセンチメートル)</li></ul><h3 id=オプション建材ec例>オプション(建材EC例)
<a class=anchor href=#%e3%82%aa%e3%83%97%e3%82%b7%e3%83%a7%e3%83%b3%e5%bb%ba%e6%9d%90ec%e4%be%8b>#</a></h3><ul><li>荷受け担当者、出荷証明書有無、搬入制限</li></ul><h2 id=支払い方法の選択>④支払い方法の選択
<a class=anchor href=#%e6%94%af%e6%89%95%e3%81%84%e6%96%b9%e6%b3%95%e3%81%ae%e9%81%b8%e6%8a%9e>#</a></h2><p>支払い方法については別ページを参照。</p><ul><li><a href=../payment/>支払い方法について</a></li></ul><h2 id=配送先や配送方法配送日時の選択>⑤配送先や配送方法、配送日時の選択
<a class=anchor href=#%e9%85%8d%e9%80%81%e5%85%88%e3%82%84%e9%85%8d%e9%80%81%e6%96%b9%e6%b3%95%e9%85%8d%e9%80%81%e6%97%a5%e6%99%82%e3%81%ae%e9%81%b8%e6%8a%9e>#</a></h2><ul><li>配送先の新規設定もしくは登録済みの住所から選択する。</li></ul><h3 id=配送先>配送先
<a class=anchor href=#%e9%85%8d%e9%80%81%e5%85%88>#</a></h3><ul><li>会員情報に配送先があればその情報を表示する。</li><li>その他の配送先情報がある場合は、その選択も可能。</li></ul><h3 id=配送方法>配送方法
<a class=anchor href=#%e9%85%8d%e9%80%81%e6%96%b9%e6%b3%95>#</a></h3><ul><li>配送方法としては、業者(クロネコヤマト、佐川)があり、宅配便(サイズ別)、ネコポス、EMSなどがある。これらは送料に影響する。(後述)</li><li>配送日時は、業者や契約条件によって異なるので、それぞれの配達可能時間帯をマスタ情報として管理する。</li></ul><h3 id=店舗受取>店舗受取
<a class=anchor href=#%e5%ba%97%e8%88%97%e5%8f%97%e5%8f%96>#</a></h3><ul><li>店舗受取する場合は、受取店舗の選択を行う。</li></ul><h2 id=送料の算出>⑥送料の算出
<a class=anchor href=#%e9%80%81%e6%96%99%e3%81%ae%e7%ae%97%e5%87%ba>#</a></h2><ul><li>送料は、配送方法と配送先で異なる。</li><li>配送方法としては、業者(クロネコヤマト、佐川)があり、宅配便(サイズ別)、ネコポス、EMSの違いがある。</li><li>配送先別送料として、地域や都道府県や郵便番号別に異なるか、離島に対応しているかの違いがある。</li><li>送料がカートでの確定時に決められない場合、離島は通販基幹で注文を止め(特定の郵便番号で検知)、再計算し、顧客に提示する方法を取ることもある。家具などサイズの大きい商品を多く扱っていて配送料の金額が高い場合は、このような手法が効果的。</li></ul><h2 id=キャンペーン値引きクーポン利用ポイント利用>⑦キャンペーン(値引き、クーポン利用)、ポイント利用
<a class=anchor href=#%e3%82%ad%e3%83%a3%e3%83%b3%e3%83%9a%e3%83%bc%e3%83%b3%e5%80%a4%e5%bc%95%e3%81%8d%e3%82%af%e3%83%bc%e3%83%9d%e3%83%b3%e5%88%a9%e7%94%a8%e3%83%9d%e3%82%a4%e3%83%b3%e3%83%88%e5%88%a9%e7%94%a8>#</a></h2><p>値引きにはいろいろな方法があるが、キャンペーンという考え方でまとめる。
値引きの種類には下記のようなものが該当し、商品カテゴリや商品単位で設定する。</p><ul><li>ボリュームディスカウント＝N点以上買うとM円引き。</li><li>定率引き、定額引き。</li><li>ポイント付与倍率の変更。</li><li>それぞれ、小数点以下をどうするか調整が必要。</li></ul><h3 id=クーポン>クーポン
<a class=anchor href=#%e3%82%af%e3%83%bc%e3%83%9d%e3%83%b3>#</a></h3><ul><li>クーポンは上記キャンペーンを発動させるためにクーポンコードを入れるというような利用形式が多い。
クーポンで値引きをするという考え方よりは、クーポンでキャンペーン(値引き)を発動するような仕様とする。</li></ul><h2 id=ポイント利用>⑧ポイント利用
<a class=anchor href=#%e3%83%9d%e3%82%a4%e3%83%b3%e3%83%88%e5%88%a9%e7%94%a8>#</a></h2><p>ポイント付与と利用について決めるべき仕様は以下のような点がある。
経理上の処理、法的制限がないか確認する。</p><ul><li>ポイントをどこで管理するか。ポイントについてはEC単独で持つケース、店舗と共通にするためPOS側(基幹側)でポイントを持つこともある。</li><li>ポイントの利用用途は、利用ポイントは 1pt = 1円で、1pt から購入商品金額・送料の支払に使えるなど使い方を定義する必要がある。</li><li>ポイント利用ができない商品があるか検討する。</li><li>ポイントはいつ失効するか(１年後、最終購入から１年後、失効しない等)</li></ul><h3 id=ポイント付与>ポイント付与
<a class=anchor href=#%e3%83%9d%e3%82%a4%e3%83%b3%e3%83%88%e4%bb%98%e4%b8%8e>#</a></h3><ul><li>ポイントはいつ付与されるか(出荷時もしくは、返品がなくなる出荷２週間後などが多いかもしれない)</li><li>付与ポイントの算出方法に関して計算式を用意する。</li></ul><h2 id=税額計算>⑨税額計算
<a class=anchor href=#%e7%a8%8e%e9%a1%8d%e8%a8%88%e7%ae%97>#</a></h2><p>税額計算の特性についてまとめる。</p><ul><li>税率の管理方法は期間的な管理が必要(いつからいつまでN％、いつからM％)</li><li>税額の具体的な計算式を用意する。</li></ul><h2 id=注文の確定>⑩注文の確定
<a class=anchor href=#%e6%b3%a8%e6%96%87%e3%81%ae%e7%a2%ba%e5%ae%9a>#</a></h2><p>注文の確定の際にも行う処理は多い。</p><ul><li>在庫の確認</li><li>クレジットカードのオーソリゼーション(同期で行うか非同期で行うか検討可能)</li><li>NP後払いのリアルタイム与信</li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/commerble/docs/commit/e497892efe0897e122617fb8179a72343c8e0227 title="最終更新者 nabehiro | August 10, 2020" target=_blank rel=noopener><img src=../svg/calendar.svg class=book-icon alt=Calendar>
<span>August 10, 2020</span></a></div><div><a class="flex align-center" href=https://github.com/commerble/docs/edit/master//order.md target=_blank rel=noopener><img src=../svg/edit.svg class=book-icon alt=Edit>
<span>このページを編集する</span></a></div></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#注文>注文</a><ul><li><a href=#カート注文受注するまでについて>カート注文(受注するまで)について</a></li><li><a href=#会員ログイン新規登録ゲスト購入>①会員(ログイン、新規登録、ゲスト購入）</a></li><li><a href=#商品と数量の確認>②商品と数量の確認</a></li><li><a href=#オプションの選択>③オプションの選択</a><ul><li><a href=#オプションギフト梱包>オプション(ギフト梱包)</a></li><li><a href=#オプション裾上げ>オプション(裾上げ)</a></li><li><a href=#オプション建材ec例>オプション(建材EC例)</a></li></ul></li><li><a href=#支払い方法の選択>④支払い方法の選択</a></li><li><a href=#配送先や配送方法配送日時の選択>⑤配送先や配送方法、配送日時の選択</a><ul><li><a href=#配送先>配送先</a></li><li><a href=#配送方法>配送方法</a></li><li><a href=#店舗受取>店舗受取</a></li></ul></li><li><a href=#送料の算出>⑥送料の算出</a></li><li><a href=#キャンペーン値引きクーポン利用ポイント利用>⑦キャンペーン(値引き、クーポン利用)、ポイント利用</a><ul><li><a href=#クーポン>クーポン</a></li></ul></li><li><a href=#ポイント利用>⑧ポイント利用</a><ul><li><a href=#ポイント付与>ポイント付与</a></li></ul></li><li><a href=#税額計算>⑨税額計算</a></li><li><a href=#注文の確定>⑩注文の確定</a></li></ul></li></ul></nav></aside></main></body></html>